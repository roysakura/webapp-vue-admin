{"version":3,"sources":["webpack:///./src/views/inneruser/muser/edituser.vue","webpack:///./~/_babel-runtime@6.23.0@babel-runtime/core-js/get-iterator.js?a785*","webpack:///./~/_core-js@2.4.1@core-js/library/fn/get-iterator.js?2d8c*","webpack:///./~/_core-js@2.4.1@core-js/library/modules/core.get-iterator.js?f0c1*","webpack:///./src/api/user.js","webpack:///./src/utils/log.js","webpack:///./src/utils/validate.js","webpack:///edituser.vue","webpack:///./src/views/inneruser/muser/edituser.vue?1c28","webpack:///./src/views/inneruser/muser/edituser.vue?479f","webpack:///./src/views/inneruser/muser/edituser.vue?91a8"],"names":["getAllRoles","axios","get","then","res","resolve","err","reject","addAdmin","member","mobile","personal_info","roles","post","getAllAdminInfos","delAdminById","id","delete","getAdminById","modifyAdminById","put","searchUserInfo","condition","enORdisAble","adminId","flag","is_active","logUtil","printLog","items","console","log","isWscnEmail","str","reg","test","trim","validateURL","textval","urlregex","validateLowerCase","validateUpperCase","validatAlphabets","validatePhoneNumber"],"mappings":"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ACA;AAKA;;mCACA;6BACA;AACA;AACA;kIACA;6BACA;AACA;AACA;+CACA;6BACA;AACA;AACA;yBACA;mCACA;4BACA;;;;;;;AACA;;8BACA;kCACA;mCACA;uCACA;8CACA;2BACA;8CACA;AACA;AACA;;;;;;;;;;;;;;;;+CACA;sCACA;6BACA;AACA;gCACA;sCACA;qKACA,+BACA;2CACA;0CACA;wBACA;2CACA;gFACA;uBACA;AACA;4FACA;8BACA;+BACA;AAEA;AACA;mEACA;oEACA;mCACA;AACA;6EACA;qCACA;wDACA;iFACA;AACA;;AACA;;wHACA;2CACA;iDACA;AACA;8BACA;+BACA;AACA;AAGA;AA5GA;;AAlBA,G;;;;;;;ACxCA;AACA;;;AAGA;AACA,iEAAkE,aAAa,2BAA2B,oBAAoB,oBAAoB,aAAa,yBAAyB,sBAAsB,8BAA8B,oDAAoD,WAAW,cAAc,iEAAiE,iBAAiB,kCAAkC,gBAAgB,WAAW,4BAA4B,oBAAoB,sBAAsB,8BAA8B,YAAY,iBAAiB,cAAc,QAAQ,2eAA2e,oBAAoB,GAAG,6BAA6B,2BAA2B,2BAA2B,oBAAoB,gCAAgC,iCAAiC,6CAA6C,GAAG,sDAAsD,kBAAkB,qBAAqB,GAAG,mEAAmE,wBAAwB,GAAG,oCAAoC,uBAAuB,kBAAkB,mCAAmC,gCAAgC,6BAA6B,GAAG,gCAAgC,mBAAmB,wBAAwB,qBAAqB,GAAG,qBAAqB;;AAE/xD;;;;;;;;ACPA;;AAEA;AACA,qCAAsS;AACtS;AACA;AACA;AACA,iE;;;;;;;ACPA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB","file":"static/js/5.2e8d6c0e964fab7c7b68.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e34d77f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/selector?type=styles&index=0!./edituser.vue\")\n}\nvar Component = require(\"!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/selector?type=script&index=0!./edituser.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e34d77f4\\\"}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/selector?type=template&index=0!./edituser.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-e34d77f4\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/inneruser/muser/edituser.vue\n// module id = 351\n// module chunks = 5","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_babel-runtime@6.23.0@babel-runtime/core-js/get-iterator.js\n// module id = 424\n// module chunks = 3 4 5 6 7 8 9 10 11 12","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.4.1@core-js/library/fn/get-iterator.js\n// module id = 425\n// module chunks = 3 4 5 6 7 8 9 10 11 12","var anObject = require('./_an-object')\n  , get      = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.4.1@core-js/library/modules/core.get-iterator.js\n// module id = 426\n// module chunks = 3 4 5 6 7 8 9 10 11 12","/**\r\n * Created by THINK on 2017/7/28.\r\n */\r\nimport axios from 'axios';\r\n/*\r\n    获取所有角色的信息\r\n */\r\nexport function getAllRoles() {\r\n    return axios.get('/api1.0/roles/permissions/').then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\r\n/**\r\n * 添加管理员\r\n * @param userInfo\r\n * @returns {*}\r\n */\r\nexport function addAdmin(member,mobile,personal_info,roles) {\r\n    return axios.post('/api1.0/users/permissions/',{\r\n        member:member,\r\n        mobile:mobile,\r\n        personal_info:personal_info,\r\n        roles:roles,\r\n    }).then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\r\n/**\r\n * 获取所有管理员的信息\r\n * @returns {*}\r\n */\r\nexport function getAllAdminInfos() {\r\n    return axios.get('/api1.0/users/permissions/').then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\r\n\r\nexport function delAdminById(id) {\r\n    return axios.delete(`/api1.0/admins/${id}/`).then((res)=>{\r\n       return Promise.resolve(res);\r\n    },(err)=>{\r\n       return Promise.reject(err);\r\n    });\r\n}\r\nexport function getAdminById(id) {\r\n    return axios.get(`/api1.0/users/${id}/permissions/`).then((res)=>{\r\n       return Promise.resolve(res);\r\n    },(err)=>{\r\n       return Promise.reject(err);\r\n    });\r\n}\r\n\r\nexport function modifyAdminById(id,member,mobile,personal_info,roles) {\r\n    return axios.put(`/api1.0/admins/${id}/`,{\r\n        member:member,\r\n        mobile:mobile,\r\n        personal_info:personal_info,\r\n        roles:roles,\r\n    }).then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    });\r\n}\r\n/**\r\n * 查询满足条件的用户的信息\r\n * @param condition\r\n * @returns {*}\r\n */\r\nexport function searchUserInfo(condition) {\r\n    return axios.get('/api1.0/users/permissions/').then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\r\n\r\n/**\r\n * 禁用或者启用某个管理员\r\n * @param adminId\r\n * @param flag:禁用(false)或启用(true)的标志\r\n * @returns {*}\r\n */\r\nexport function enORdisAble(adminId,flag) {\r\n    return axios.put(`/api1.0/admins/${adminId}/states/`,{\r\n        is_active:flag\r\n    }).then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/user.js","/**\n * Created by THINK on 2017/7/3.\n * 日志工具类：开发阶段将flag设置为true(可以看见log),上线后将flag设置为false(看不见log)\n * @author:darkCode\n * @description:it is a logcat tool,you can use it see all logs you want to see conveniently when developing,and you can hide all logs by set the value of flag is false in this instance when producting\n */\nlet logUtil = {\n  flag:true,\n  printLog(...items){\n    if(this.flag){\n      console.log(items);\n    }\n  }\n}\nexport default logUtil\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/log.js","/**\n * Created by jiachenpan on 16/11/18.\n */\n\n/* 是否是公司邮箱*/\nexport function isWscnEmail(str) {\n  const reg = /^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@wallstreetcn\\.com$/i;\n  return reg.test(str.trim());\n}\n\n/* 合法uri*/\nexport function validateURL(textval) {\n  const urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n  return urlregex.test(textval);\n}\n\n/* 小写字母*/\nexport function validateLowerCase(str) {\n  const reg = /^[a-z]+$/;\n  return reg.test(str);\n}\n\n/* 大写字母*/\nexport function validateUpperCase(str) {\n  const reg = /^[A-Z]+$/;\n  return reg.test(str);\n}\n\n/* 大小写字母*/\nexport function validatAlphabets(str) {\n  const reg = /^[A-Za-z]+$/;\n  return reg.test(str);\n}\n\nexport function validatePhoneNumber(str) {\n    const reg = /^1[0-9]{10}$/;\n    return reg.test(str);\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/validate.js","<template>\r\n    <div class=\"inner-user-add-layout\">\r\n        <div class=\"top-list\">\r\n            <el-input class=\"user-input\" v-model=\"username\" placeholder=\"用户名\"></el-input>\r\n            <el-input class=\"user-input\" v-model=\"password\" placeholder=\"密码\"></el-input>\r\n        </div>\r\n        <div class=\"top-list\" style=\"margin-top: 12px\">\r\n            <el-input class=\"user-input\" v-model=\"phone\" placeholder=\"手机号\" type=\"tel\"></el-input>\r\n        </div>\r\n        <div class=\"permission-list\">\r\n            <h3>赋予角色</h3>\r\n            <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\r\n            <div style=\"margin: 15px 0;\"></div>\r\n            <el-checkbox-group v-model=\"checkedRoles\" @change=\"handleCheckedCitiesChange\">\r\n                <el-checkbox v-for=\"role in roles\" :label=\"role\" :key=\"role\">{{role.name}}</el-checkbox>\r\n            </el-checkbox-group>\r\n        </div>\r\n        <el-dialog\r\n                title=\"添加管理员\"\r\n                :visible.sync=\"dialogVisible\"\r\n                size=\"tiny\"\r\n                :before-close=\"handleClose\">\r\n            <span>是否还继续添加管理员？</span>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\r\n  </span>\r\n        </el-dialog>\r\n        <el-button type=\"primary\" class=\"add-ser-btn\" @click=\"add()\">添加</el-button>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {getAllRoles} from '../../../api/user'\r\n    import {modifyAdminById} from '../../../api/user'\r\n    import {getAdminById} from '../../../api/user'\r\n    import { Message } from 'element-ui';\r\n\r\n    import {validatePhoneNumber} from '../../../utils/validate'\r\n    import logUtil from '../../../utils/log'\r\n    export default{\r\n        data(){\r\n            return{\r\n                dialogVisible:false,\r\n                username:'',\r\n                password:null,\r\n                phone:'',\r\n                roles: [],\r\n                checkAll:true,\r\n                checkedRoles: [],\r\n                isIndeterminate: true\r\n            }\r\n\r\n        },\r\n        mounted(){\r\n            this.getRoles();\r\n            this.getAdminId();\r\n        },\r\n        methods:{\r\n            getAdminId(){\r\n                getAdminById(this.$route.params.adminId).then((res)=>{\r\n                    if(res.status === 200){\r\n                        this.username = res.data.data.detail.personal_info.name;\r\n                        this.phone = res.data.data.detail.mobile;\r\n                        sessionStorage.setItem(\"phone\",res.data.data.detail.mobile);\r\n//                        this.username = res.data.data.detail.personal_info.name;\r\n                    }\r\n                },(err)=>{\r\n                });\r\n            },\r\n            showMsg(str){\r\n                Message({\r\n                    message: str,\r\n                    type: 'error',\r\n                    duration: 5 * 1000\r\n                });\r\n            },\r\n            showSuccessMsg(str){\r\n                Message({\r\n                    message: str,\r\n                    type: 'success',\r\n                    duration: 5 * 1000\r\n                });\r\n            },\r\n            handleClose(done) {\r\n                this.$confirm('确认关闭？')\r\n                    .then(_ => {\r\n                        done();\r\n                    })\r\n                    .catch(_ => {});\r\n            },\r\n            add(){\r\n//                this.dialogVisible = true;\r\n                if(this.username === ''){\r\n                    this.showMsg(\"用户名不能为空\");\r\n                    return;\r\n                }\r\n                /*if(this.password === ''){\r\n                    this.showMsg(\"密码不能为空\");\r\n                    return;\r\n                }*/\r\n                if(this.phone === ''){\r\n                    this.showMsg(\"手机号不能为空\");\r\n                    return;\r\n                }\r\n                if(!validatePhoneNumber(this.phone)){\r\n                    this.showMsg(\"手机号格式不正确\");\r\n                    return;\r\n                }\r\n                if(this.checkedRoles.length<=0){\r\n                    this.showMsg(\"请赋予管理员权限\");\r\n                    return;\r\n                }\r\n                let member = {};\r\n                member.password = this.password;\r\n                let tempRoles = [];\r\n                for(let item of this.checkedRoles){\r\n                    let obj = {};\r\n                    obj.id = item.id;\r\n                    tempRoles.push(obj);\r\n                    if(item.id === 3){\r\n                        member.is_superuser = true;\r\n                    }else{\r\n                        member.is_superuser = false;\r\n                    }\r\n                }\r\n                let phone = sessionStorage.getItem(\"phone\");\r\n                if(this.phone === phone){\r\n                    this.phone = null;\r\n                }\r\n                let personal_info = {};\r\n                personal_info.name = this.username;\r\n                modifyAdminById(this.$route.params.adminId,member,this.phone,personal_info,tempRoles)\r\n                    .then((res)=>{\r\n                        if(res.data.code === 201){\r\n                            this.showSuccessMsg(\"修改管理员成功!\");\r\n                            const _this = this;\r\n                            setTimeout(function () {\r\n                                _this.$router.push({path: '/inneruser/index', replace: true});\r\n                            },500);\r\n                        }\r\n                        logUtil.printLog(\"成功:\",res);\r\n                    },(err)=>{\r\n                       this.showMsg(\"修改管理信息失败\");\r\n                    });\r\n\r\n            },\r\n            handleCheckAllChange(event) {\r\n                this.checkedRoles = event.target.checked ? this.roles : [];\r\n                this.isIndeterminate = false;\r\n            },\r\n            handleCheckedCitiesChange(value) {\r\n                let checkedCount = value.length;\r\n                this.checkAll = checkedCount === this.roles.length;\r\n                this.isIndeterminate = checkedCount > 0 && checkedCount < this.roles.length;\r\n            },\r\n            getRoles(){\r\n                getAllRoles().then((res)=>{\r\n                   if(res.data.code === 200){\r\n                       this.roles = res.data.data.detail;\r\n                   }\r\n                },(err)=>{\r\n                    this.showMsg(\"获取角色信息失败\");\r\n                });\r\n            },\r\n        }\r\n\r\n    }\r\n</script>\r\n<style scoped>\r\n    .inner-user-add-layout{\r\n        padding: 20px;\r\n    }\r\n    .top-list{\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    .inner-user-add-layout .user-input{\r\n        float: left;\r\n        display: block;\r\n    }\r\n    .inner-user-add-layout .user-input:last-of-type{\r\n        margin-left: 10px;\r\n    }\r\n    .permission-list{\r\n        margin-top: 20px;\r\n        width: 100%;\r\n        box-shadow: 2px 2px 6px #ccc;\r\n        padding: 0 10px 10px 10px;\r\n        border: 1px solid #ccc;\r\n    }\r\n    .add-ser-btn{\r\n        width: 400px;\r\n        margin: 20px auto;\r\n        display: block;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// edituser.vue?2b93ac84","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.0@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".inner-user-add-layout[data-v-e34d77f4]{padding:20px}.top-list[data-v-e34d77f4]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.inner-user-add-layout .user-input[data-v-e34d77f4]{float:left;display:block}.inner-user-add-layout .user-input[data-v-e34d77f4]:last-of-type{margin-left:10px}.permission-list[data-v-e34d77f4]{margin-top:20px;width:100%;box-shadow:2px 2px 6px #ccc;padding:0 10px 10px;border:1px solid #ccc}.add-ser-btn[data-v-e34d77f4]{width:400px;margin:20px auto;display:block}\", \"\", {\"version\":3,\"sources\":[\"D:/Products/vueAdmin-template-master/src/views/inneruser/muser/edituser.vue\"],\"names\":[],\"mappings\":\"AACA,wCACI,YAAc,CACjB,AACD,2BACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CAC1C,AACD,oDACI,WAAY,AACZ,aAAe,CAClB,AACD,iEACI,gBAAkB,CACrB,AACD,kCACI,gBAAiB,AACjB,WAAY,AACZ,4BAA6B,AAC7B,oBAA0B,AAC1B,qBAAuB,CAC1B,AACD,8BACI,YAAa,AACb,iBAAkB,AAClB,aAAe,CAClB\",\"file\":\"edituser.vue\",\"sourcesContent\":[\"\\n.inner-user-add-layout[data-v-e34d77f4]{\\n    padding: 20px;\\n}\\n.top-list[data-v-e34d77f4]{\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between;\\n}\\n.inner-user-add-layout .user-input[data-v-e34d77f4]{\\n    float: left;\\n    display: block;\\n}\\n.inner-user-add-layout .user-input[data-v-e34d77f4]:last-of-type{\\n    margin-left: 10px;\\n}\\n.permission-list[data-v-e34d77f4]{\\n    margin-top: 20px;\\n    width: 100%;\\n    box-shadow: 2px 2px 6px #ccc;\\n    padding: 0 10px 10px 10px;\\n    border: 1px solid #ccc;\\n}\\n.add-ser-btn[data-v-e34d77f4]{\\n    width: 400px;\\n    margin: 20px auto;\\n    display: block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e34d77f4\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/inneruser/muser/edituser.vue\n// module id = 895\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.0@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e34d77f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./edituser.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"1a43f982\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e34d77f4\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/inneruser/muser/edituser.vue\n// module id = 926\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"inner-user-add-layout\"\n  }, [_c('div', {\n    staticClass: \"top-list\"\n  }, [_c('el-input', {\n    staticClass: \"user-input\",\n    attrs: {\n      \"placeholder\": \"用户名\"\n    },\n    model: {\n      value: (_vm.username),\n      callback: function($$v) {\n        _vm.username = $$v\n      },\n      expression: \"username\"\n    }\n  }), _vm._v(\" \"), _c('el-input', {\n    staticClass: \"user-input\",\n    attrs: {\n      \"placeholder\": \"密码\"\n    },\n    model: {\n      value: (_vm.password),\n      callback: function($$v) {\n        _vm.password = $$v\n      },\n      expression: \"password\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"top-list\",\n    staticStyle: {\n      \"margin-top\": \"12px\"\n    }\n  }, [_c('el-input', {\n    staticClass: \"user-input\",\n    attrs: {\n      \"placeholder\": \"手机号\",\n      \"type\": \"tel\"\n    },\n    model: {\n      value: (_vm.phone),\n      callback: function($$v) {\n        _vm.phone = $$v\n      },\n      expression: \"phone\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"permission-list\"\n  }, [_c('h3', [_vm._v(\"赋予角色\")]), _vm._v(\" \"), _c('el-checkbox', {\n    attrs: {\n      \"indeterminate\": _vm.isIndeterminate\n    },\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin\": \"15px 0\"\n    }\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    on: {\n      \"change\": _vm.handleCheckedCitiesChange\n    },\n    model: {\n      value: (_vm.checkedRoles),\n      callback: function($$v) {\n        _vm.checkedRoles = $$v\n      },\n      expression: \"checkedRoles\"\n    }\n  }, _vm._l((_vm.roles), function(role) {\n    return _c('el-checkbox', {\n      key: role,\n      attrs: {\n        \"label\": role\n      }\n    }, [_vm._v(_vm._s(role.name))])\n  }))], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"添加管理员\",\n      \"visible\": _vm.dialogVisible,\n      \"size\": \"tiny\",\n      \"before-close\": _vm.handleClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogVisible = $event\n      }\n    }\n  }, [_c('span', [_vm._v(\"是否还继续添加管理员？\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogVisible = false\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"add-ser-btn\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.add()\n      }\n    }\n  }, [_vm._v(\"添加\")])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.1.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-e34d77f4\"}!./~/_vue-loader@12.1.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/inneruser/muser/edituser.vue\n// module id = 965\n// module chunks = 5"],"sourceRoot":""}