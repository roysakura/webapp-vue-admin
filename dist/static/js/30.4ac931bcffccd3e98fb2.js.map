{"version":3,"sources":["webpack:///./src/views/jifen/mjifen/editjifen.vue","webpack:///./src/api/jifen.js","webpack:///editjifen.vue","webpack:///./src/views/jifen/mjifen/editjifen.vue?5e4c","webpack:///./src/views/jifen/mjifen/editjifen.vue?a1bf","webpack:///./src/views/jifen/mjifen/editjifen.vue?285f"],"names":["addJiFen","credit_item_name","item_credit","credit_per_day","restrict_max_num","axios","post","then","res","resolve","err","reject","getJiFen","get","delJiFenById","id","delete","getJiFenById","editJiFen","put"],"mappings":"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","file":"static/js/30.4ac931bcffccd3e98fb2.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17113085\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/selector?type=styles&index=0!./editjifen.vue\")\n}\nvar Component = require(\"!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/selector?type=script&index=0!./editjifen.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17113085\\\"}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/selector?type=template&index=0!./editjifen.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-17113085\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/jifen/mjifen/editjifen.vue\n// module id = 355\n// module chunks = 30","/**\r\n * Created by THINK on 2017/8/4.\r\n */\r\nimport axios from 'axios';\r\n\r\nexport function addJiFen(credit_item_name,item_credit,credit_per_day,restrict_max_num) {\r\n    return axios.post('/api1.0/credititems/',{\r\n        credit_item_name:credit_item_name,\r\n        credit_per_day:credit_per_day,\r\n        item_credit:item_credit,\r\n        restrict_max_num:restrict_max_num\r\n    }).then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\r\n/**\r\n * 获取积分列表信息\r\n * @returns {*}\r\n */\r\nexport function getJiFen() {\r\n    return axios.get('/api1.0/credititems/').then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\r\n\r\nexport function delJiFenById(id) {\r\n    return axios.delete(`/api1.0/credititems/${id}/`).then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\r\nexport function getJiFenById(id) {\r\n    return axios.get(`/api1.0/credititems/${id}/`).then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\r\n\r\nexport function editJiFen(id,credit_item_name,item_credit,credit_per_day,restrict_max_num) {\r\n    return axios.put(`/api1.0/credititems/${id}/`,{\r\n        credit_item_name:credit_item_name,\r\n        credit_per_day:credit_per_day,\r\n        item_credit:item_credit,\r\n        restrict_max_num:restrict_max_num\r\n    }).then((res)=>{\r\n        return Promise.resolve(res);\r\n    },(err)=>{\r\n        return Promise.reject(err);\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/jifen.js","<template>\r\n    <div class=\"add-tag-layout\">\r\n        <el-input v-model=\"input\" placeholder=\"请输入积分规则名称\" class=\"tag-input\"></el-input>\r\n        <el-input v-model=\"jifenNum\" placeholder=\"请输入积分数\" class=\"tag-input\"></el-input>\r\n        <div class=\"tag-input\">\r\n            <span>是否每天限制</span>\r\n            <el-checkbox v-model=\"checked\" @change=\"change\">是</el-checkbox>\r\n        </div>\r\n        <el-input v-model=\"limitNum\" placeholder=\"请输入限制数\" class=\"tag-input\" v-show=\"checked\"></el-input>\r\n        <el-button type=\"primary\" class=\"btn-add-tag\" @click=\"addTag()\">修改</el-button>\r\n    </div>\r\n</template>\r\n<script>\r\n    import { Message } from 'element-ui';\r\n    import {editJiFen} from '../../../api/jifen'\r\n    import {getJiFenById} from '../../../api/jifen'\r\n    export default {\r\n        data() {\r\n            return {\r\n                input: '',\r\n                jifenNum:\"\",\r\n                checked:true,\r\n                limitNum:\"\",\r\n            }\r\n        },\r\n        mounted(){\r\n          this.getJid();\r\n        },\r\n        methods:{\r\n            getJid(){\r\n              this.getJData(this.$route.params.jId)\r\n            },\r\n            getJData(id){\r\n\r\n                getJiFenById(id).then((res)=>{\r\n                   this.input = res.data.data.detail.credit_item_name;\r\n                   this.jifenNum = res.data.data.detail.item_credit;\r\n                   this.limitNum = res.data.data.detail.restrict_max_num;\r\n                   this.checked = res.data.data.detail.credit_per_day;\r\n                },(err)=>{\r\n\r\n                });\r\n            },\r\n            addTag(){\r\n                if(this.input === \"\"){\r\n                    this.showMsg(\"请输入积分规则名\",false);\r\n                    return;\r\n                }\r\n                if(this.jifenNum === \"\"){\r\n                    this.showMsg(\"请输入积分数\",false);\r\n                    return;\r\n                }\r\n                editJiFen(this.$route.params.jId,this.input,this.jifenNum,this.checked,this.limitNum).then((res)=>{\r\n                    this.showMsg(\"修改成功\",true);\r\n                    const _this = this;\r\n                    setTimeout(function () {\r\n                        _this.$router.push({path: '/jifen/index', replace: true});\r\n                    },500)\r\n                },(err)=>{\r\n                    this.showMsg(\"修改失败\",false);\r\n                });\r\n            },\r\n            change(){\r\n             if(!this.checked){\r\n                 this.limitNum = 0;\r\n             }\r\n            },\r\n            showMsg(str,flag){\r\n                Message({\r\n                    message: str,\r\n                    type: flag ? 'success':\"warning\",\r\n                    duration: 5 * 1000\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .add-tag-layout{\r\n        width: 330px;\r\n        border: 1px dashed #ccc;\r\n        margin: 0 auto;\r\n    }\r\n    .tag-input,.btn-add-tag{\r\n        width: 300px;\r\n        display: block;\r\n        margin: 20px auto;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// editjifen.vue?0bcce47e","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.0@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".add-tag-layout[data-v-17113085]{width:330px;border:1px dashed #ccc;margin:0 auto}.btn-add-tag[data-v-17113085],.tag-input[data-v-17113085]{width:300px;display:block;margin:20px auto}\", \"\", {\"version\":3,\"sources\":[\"D:/Products/vueAdmin-template-master/src/views/jifen/mjifen/editjifen.vue\"],\"names\":[],\"mappings\":\"AACA,iCACI,YAAa,AACb,uBAAwB,AACxB,aAAe,CAClB,AACD,0DACI,YAAa,AACb,cAAe,AACf,gBAAkB,CACrB\",\"file\":\"editjifen.vue\",\"sourcesContent\":[\"\\n.add-tag-layout[data-v-17113085]{\\n    width: 330px;\\n    border: 1px dashed #ccc;\\n    margin: 0 auto;\\n}\\n.tag-input[data-v-17113085],.btn-add-tag[data-v-17113085]{\\n    width: 300px;\\n    display: block;\\n    margin: 20px auto;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-17113085\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/jifen/mjifen/editjifen.vue\n// module id = 881\n// module chunks = 30","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.0@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17113085\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./editjifen.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"21e7b1a6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-17113085\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/jifen/mjifen/editjifen.vue\n// module id = 915\n// module chunks = 30","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"add-tag-layout\"\n  }, [_c('el-input', {\n    staticClass: \"tag-input\",\n    attrs: {\n      \"placeholder\": \"请输入积分规则名称\"\n    },\n    model: {\n      value: (_vm.input),\n      callback: function($$v) {\n        _vm.input = $$v\n      },\n      expression: \"input\"\n    }\n  }), _vm._v(\" \"), _c('el-input', {\n    staticClass: \"tag-input\",\n    attrs: {\n      \"placeholder\": \"请输入积分数\"\n    },\n    model: {\n      value: (_vm.jifenNum),\n      callback: function($$v) {\n        _vm.jifenNum = $$v\n      },\n      expression: \"jifenNum\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"tag-input\"\n  }, [_c('span', [_vm._v(\"是否每天限制\")]), _vm._v(\" \"), _c('el-checkbox', {\n    on: {\n      \"change\": _vm.change\n    },\n    model: {\n      value: (_vm.checked),\n      callback: function($$v) {\n        _vm.checked = $$v\n      },\n      expression: \"checked\"\n    }\n  }, [_vm._v(\"是\")])], 1), _vm._v(\" \"), _c('el-input', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.checked),\n      expression: \"checked\"\n    }],\n    staticClass: \"tag-input\",\n    attrs: {\n      \"placeholder\": \"请输入限制数\"\n    },\n    model: {\n      value: (_vm.limitNum),\n      callback: function($$v) {\n        _vm.limitNum = $$v\n      },\n      expression: \"limitNum\"\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"btn-add-tag\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addTag()\n      }\n    }\n  }, [_vm._v(\"修改\")])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.1.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-17113085\"}!./~/_vue-loader@12.1.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/jifen/mjifen/editjifen.vue\n// module id = 952\n// module chunks = 30"],"sourceRoot":""}